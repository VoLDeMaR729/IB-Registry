# Реестр компаний (IB Registry)

Автоматизированная информационная система учета компаний в сфере информационной безопасности.
Разработано в рамках курсового проекта.

Приложение имитирует работу с официальными реестрами (например, ФСТЭК): поддерживается строгая валидация ИНН/ОГРН, использование справочников городов и автоматическая проверка формата лицензий.

## Технологический стек
* **Язык:** C++17
* **GUI:** Qt 6 (Widgets)
* **База данных:** PostgreSQL 15
* **Среда выполнения:** Docker & Docker Compose
* **Безопасность:** Хеширование паролей (SHA-256), защита от SQL-инъекций, изолированная сеть контейнеров.

## Установка и запуск

### Предварительные требования
Проект полностью контейнеризирован. Установка Qt, CMake или GCC на хост-машину **не требуется**.
Для запуска необходимо наличие:
* **Docker Engine** (версия 20.10+)
* **Docker Compose**

### Быстрый запуск (Рекомендуется)
В корне проекта находится скрипт, который автоматически настроит права доступа к графической подсистеме (X11) и запустит контейнеры:

    chmod +x run.sh
    ./run.sh

### Ручной запуск (через Docker Compose)
Если требуется запуск без использования скрипта автоматизации:

1. Разрешите Docker доступ к дисплею (необходимо для отображения GUI):

       xhost +local:docker

2. Выполните сборку и запуск контейнеров:

       sudo docker compose up --build

## Учетные данные
После запуска приложения используйте следующие данные для входа в учетную запись администратора:

* **Логин:** admin
* **Пароль:** admin

## Функциональные возможности
1. **Авторизация:** Ролевая модель доступа.
2. **Просмотр реестра:** Таблица с пагинацией и отображением ключевой информации.
3. **Поиск и фильтрация:** Поиск по названию или ИНН, фильтрация по типу деятельности компании.
4. **Добавление и редактирование записей:**
   * Валидация ИНН (разрешены только цифры, проверка длины).
   * Автоматическое форматирование номера лицензии по маске.
   * Выбор городов из встроенного справочника.
   * Защита от дублирования записей и ввода некорректных данных.
5. **Отказоустойчивость:** Реализован механизм повторного подключения (Reconnect), обеспечивающий корректный запуск приложения при задержке старта базы данных.

## Структура проекта
* src/core — Бизнес-логика и взаимодействие с базой данных.
* src/gui — Реализация графического интерфейса (Qt).
* sql/init.sql — Схема базы данных и хранимые процедуры PL/pgSQL.
* Dockerfile — Инструкции по сборке окружения и приложения.
